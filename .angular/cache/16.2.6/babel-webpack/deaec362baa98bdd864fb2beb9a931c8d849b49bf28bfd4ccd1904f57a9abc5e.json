{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"src/services/http.service.\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"../navbar/navbar.component\";\nexport class CatListComponent {\n  constructor(restApi, router) {\n    this.restApi = restApi;\n    this.router = router;\n    this.userData = [];\n    this.url = 'https://652e8c840b8d8ddac0b194c7.mockapi.io/admin/userData';\n    this.editingUserId = null;\n    this.editedUser = {};\n    this.newUser = {};\n    this.isAddUserFormVisible = false;\n  }\n  ngOnInit() {\n    this.getData();\n  }\n  addUser() {\n    this.isAddUserFormVisible = !this.isAddUserFormVisible;\n  }\n  addNewUser() {\n    this.restApi.post(this.url, this.newUser).subscribe(response => {\n      this.userData.push(response);\n      this.getData();\n      this.newUser = {\n        email: '',\n        id: 0,\n        jenisKelamin: '',\n        namaBelakang: '',\n        namaDepan: '',\n        password: '',\n        tanggalLahir: 1\n      };\n      this.addUser();\n    });\n  }\n  getData() {\n    this.restApi.get(this.url).subscribe(data => {\n      this.userData = data;\n    });\n  }\n  editUser(id) {\n    this.editingUserId = id;\n    const userToEdit = this.userData.find(user => user.id === id);\n    if (userToEdit !== undefined) {\n      this.editedUser = userToEdit;\n    } else {\n      null;\n    }\n  }\n  saveUser() {\n    this.restApi.put(`${this.url}/${this.editingUserId}`, this.editedUser).subscribe(() => {\n      this.getData();\n      this.editingUserId = null;\n    });\n  }\n  cancelEdit() {\n    this.editingUserId = null;\n  }\n  deleteUser(id) {\n    const userIndex = this.userData.findIndex(u => u.id === id);\n    if (userIndex !== -1) {\n      const userToDelete = this.userData[userIndex];\n      this.restApi.delete(`${this.url}/${userToDelete.id}`).subscribe(() => {\n        this.userData.splice(userIndex, 1);\n      });\n    }\n  }\n  static #_ = this.ɵfac = function CatListComponent_Factory(t) {\n    return new (t || CatListComponent)(i0.ɵɵdirectiveInject(i1.HttpCallService), i0.ɵɵdirectiveInject(i2.Router));\n  };\n  static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: CatListComponent,\n    selectors: [[\"app-cat-list\"]],\n    decls: 3,\n    vars: 0,\n    template: function CatListComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelement(0, \"app-navbar\");\n        i0.ɵɵelementStart(1, \"p\");\n        i0.ɵɵtext(2, \"cat-list works!\");\n        i0.ɵɵelementEnd();\n      }\n    },\n    dependencies: [i3.NavbarComponent],\n    styles: [\"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n  });\n}","map":{"version":3,"names":["CatListComponent","constructor","restApi","router","userData","url","editingUserId","editedUser","newUser","isAddUserFormVisible","ngOnInit","getData","addUser","addNewUser","post","subscribe","response","push","email","id","jenisKelamin","namaBelakang","namaDepan","password","tanggalLahir","get","data","editUser","userToEdit","find","user","undefined","saveUser","put","cancelEdit","deleteUser","userIndex","findIndex","u","userToDelete","delete","splice","_","i0","ɵɵdirectiveInject","i1","HttpCallService","i2","Router","_2","selectors","decls","vars","template","CatListComponent_Template","rf","ctx","ɵɵelement","ɵɵelementStart","ɵɵtext","ɵɵelementEnd"],"sources":["C:\\Users\\BNI\\2023\\learn\\deptech\\src\\app\\cat-list\\cat-list.component.ts","C:\\Users\\BNI\\2023\\learn\\deptech\\src\\app\\cat-list\\cat-list.component.html"],"sourcesContent":["import { Component } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { HttpCallService } from 'src/services/http.service.';\nimport { userDataList } from '../Modals/Modals';\n\n@Component({\n  selector: 'app-cat-list',\n  templateUrl: './cat-list.component.html',\n  styleUrls: ['./cat-list.component.css'],\n})\nexport class CatListComponent {\n  constructor(public restApi: HttpCallService, private router: Router) {}\n\n  userData: userDataList[] = [];\n  url: string = 'https://652e8c840b8d8ddac0b194c7.mockapi.io/admin/userData';\n\n  editingUserId: number | null = null;\n  editedUser: userDataList = {} as userDataList;\n  newUser: userDataList = {} as userDataList;\n\n  isAddUserFormVisible: boolean = false;\n\n  ngOnInit() {\n    this.getData();\n  }\n\n  addUser() {\n    this.isAddUserFormVisible = !this.isAddUserFormVisible;\n  }\n\n  addNewUser() {\n    this.restApi.post(this.url, this.newUser).subscribe((response: any) => {\n      this.userData.push(response);\n      this.getData();\n      this.newUser = {\n        email: '',\n        id: 0,\n        jenisKelamin: '',\n        namaBelakang: '',\n        namaDepan: '',\n        password: '',\n        tanggalLahir: 1,\n      };\n      this.addUser();\n    });\n  }\n\n  getData() {\n    this.restApi.get(this.url).subscribe((data: any) => {\n      this.userData = data;\n    });\n  }\n\n  editUser(id: number) {\n    this.editingUserId = id;\n    const userToEdit = this.userData.find((user) => user.id === id);\n    if (userToEdit !== undefined) {\n      this.editedUser = userToEdit;\n    } else {\n      null;\n    }\n  }\n\n  saveUser() {\n    this.restApi\n      .put(`${this.url}/${this.editingUserId}`, this.editedUser)\n      .subscribe(() => {\n        this.getData();\n        this.editingUserId = null;\n      });\n  }\n\n  cancelEdit() {\n    this.editingUserId = null;\n  }\n\n  deleteUser(id: number) {\n    const userIndex = this.userData.findIndex((u) => u.id === id);\n    if (userIndex !== -1) {\n      const userToDelete = this.userData[userIndex];\n      this.restApi.delete(`${this.url}/${userToDelete.id}`).subscribe(() => {\n        this.userData.splice(userIndex, 1);\n      });\n    }\n  }\n}\n","<app-navbar></app-navbar>\n<p>cat-list works!</p>\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}