{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nexport let ProdListComponent = class ProdListComponent {\n  constructor(restApi) {\n    this.restApi = restApi;\n    this.userData = [];\n    this.url = 'https://652e8c840b8d8ddac0b194c7.mockapi.io/admin/userData';\n    this.editingUserId = null;\n    this.editedUser = {};\n  }\n  ngOnInit() {\n    this.getData();\n  }\n  getData() {\n    this.restApi.get(this.url).subscribe(data => {\n      this.userData = data;\n      console.log(this.userData);\n    });\n  }\n  editUser(id) {\n    this.editingUserId = id;\n    this.editedUser = {\n      ...this.userData.find(user => user.id === id)\n    };\n  }\n  saveUser() {\n    this.restApi.put(`${this.url}/${this.editingUserId}`, this.editedUser).subscribe(() => {\n      this.editingUserId = null;\n      this.getData();\n    });\n  }\n  cancelEdit() {\n    this.editingUserId = null;\n  }\n  deleteUser(id) {\n    const userIndex = this.userData.findIndex(u => u.id === id);\n    if (userIndex !== -1) {\n      const userToDelete = this.userData[userIndex];\n      this.restApi.delete(`${this.url}/${userToDelete.id}`).subscribe(() => {\n        this.userData.splice(userIndex, 1);\n      });\n    }\n  }\n};\nProdListComponent = __decorate([Component({\n  selector: 'app-prod-list',\n  templateUrl: './prod-list.component.html',\n  styleUrls: ['./prod-list.component.css']\n})], ProdListComponent);","map":{"version":3,"names":["Component","ProdListComponent","constructor","restApi","userData","url","editingUserId","editedUser","ngOnInit","getData","get","subscribe","data","console","log","editUser","id","find","user","saveUser","put","cancelEdit","deleteUser","userIndex","findIndex","u","userToDelete","delete","splice","__decorate","selector","templateUrl","styleUrls"],"sources":["C:\\Users\\BNI\\2023\\learn\\deptech\\src\\app\\prod-list\\prod-list.component.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { userDataList } from '../Modals/Modals';\nimport { HttpCallService } from 'src/services/http.service';\n\n@Component({\n  selector: 'app-prod-list',\n  templateUrl: './prod-list.component.html',\n  styleUrls: ['./prod-list.component.css'],\n})\nexport class ProdListComponent implements OnInit {\n  constructor(public restApi: HttpCallService) {}\n\n  userData: userDataList[] = [];\n  url: string = 'https://652e8c840b8d8ddac0b194c7.mockapi.io/admin/userData';\n\n  editingUserId: number | null = null;\n  editedUser: userDataList = {} as userDataList;\n\n  ngOnInit() {\n    this.getData();\n  }\n\n  getData() {\n    this.restApi.get(this.url).subscribe((data: any) => {\n      this.userData = data;\n      console.log(this.userData);\n    });\n  }\n\n  editUser(id: number) {\n    this.editingUserId = id;\n    this.editedUser = { ...this.userData.find((user) => user.id === id) };\n  }\n\n  saveUser() {\n    this.restApi\n      .put(`${this.url}/${this.editingUserId}`, this.editedUser)\n      .subscribe(() => {\n        this.editingUserId = null;\n        this.getData();\n      });\n  }\n\n  cancelEdit() {\n    this.editingUserId = null;\n  }\n\n  deleteUser(id: number) {\n    const userIndex = this.userData.findIndex((u) => u.id === id);\n    if (userIndex !== -1) {\n      const userToDelete = this.userData[userIndex];\n      this.restApi.delete(`${this.url}/${userToDelete.id}`).subscribe(() => {\n        this.userData.splice(userIndex, 1);\n      });\n    }\n  }\n}\n"],"mappings":";AAAA,SAASA,SAAS,QAAgB,eAAe;AAS1C,WAAMC,iBAAiB,GAAvB,MAAMA,iBAAiB;EAC5BC,YAAmBC,OAAwB;IAAxB,KAAAA,OAAO,GAAPA,OAAO;IAE1B,KAAAC,QAAQ,GAAmB,EAAE;IAC7B,KAAAC,GAAG,GAAW,4DAA4D;IAE1E,KAAAC,aAAa,GAAkB,IAAI;IACnC,KAAAC,UAAU,GAAiB,EAAkB;EANC;EAQ9CC,QAAQA,CAAA;IACN,IAAI,CAACC,OAAO,EAAE;EAChB;EAEAA,OAAOA,CAAA;IACL,IAAI,CAACN,OAAO,CAACO,GAAG,CAAC,IAAI,CAACL,GAAG,CAAC,CAACM,SAAS,CAAEC,IAAS,IAAI;MACjD,IAAI,CAACR,QAAQ,GAAGQ,IAAI;MACpBC,OAAO,CAACC,GAAG,CAAC,IAAI,CAACV,QAAQ,CAAC;IAC5B,CAAC,CAAC;EACJ;EAEAW,QAAQA,CAACC,EAAU;IACjB,IAAI,CAACV,aAAa,GAAGU,EAAE;IACvB,IAAI,CAACT,UAAU,GAAG;MAAE,GAAG,IAAI,CAACH,QAAQ,CAACa,IAAI,CAAEC,IAAI,IAAKA,IAAI,CAACF,EAAE,KAAKA,EAAE;IAAC,CAAE;EACvE;EAEAG,QAAQA,CAAA;IACN,IAAI,CAAChB,OAAO,CACTiB,GAAG,CAAC,GAAG,IAAI,CAACf,GAAG,IAAI,IAAI,CAACC,aAAa,EAAE,EAAE,IAAI,CAACC,UAAU,CAAC,CACzDI,SAAS,CAAC,MAAK;MACd,IAAI,CAACL,aAAa,GAAG,IAAI;MACzB,IAAI,CAACG,OAAO,EAAE;IAChB,CAAC,CAAC;EACN;EAEAY,UAAUA,CAAA;IACR,IAAI,CAACf,aAAa,GAAG,IAAI;EAC3B;EAEAgB,UAAUA,CAACN,EAAU;IACnB,MAAMO,SAAS,GAAG,IAAI,CAACnB,QAAQ,CAACoB,SAAS,CAAEC,CAAC,IAAKA,CAAC,CAACT,EAAE,KAAKA,EAAE,CAAC;IAC7D,IAAIO,SAAS,KAAK,CAAC,CAAC,EAAE;MACpB,MAAMG,YAAY,GAAG,IAAI,CAACtB,QAAQ,CAACmB,SAAS,CAAC;MAC7C,IAAI,CAACpB,OAAO,CAACwB,MAAM,CAAC,GAAG,IAAI,CAACtB,GAAG,IAAIqB,YAAY,CAACV,EAAE,EAAE,CAAC,CAACL,SAAS,CAAC,MAAK;QACnE,IAAI,CAACP,QAAQ,CAACwB,MAAM,CAACL,SAAS,EAAE,CAAC,CAAC;MACpC,CAAC,CAAC;;EAEN;CACD;AA/CYtB,iBAAiB,GAAA4B,UAAA,EAL7B7B,SAAS,CAAC;EACT8B,QAAQ,EAAE,eAAe;EACzBC,WAAW,EAAE,4BAA4B;EACzCC,SAAS,EAAE,CAAC,2BAA2B;CACxC,CAAC,C,EACW/B,iBAAiB,CA+C7B"},"metadata":{},"sourceType":"module","externalDependencies":[]}